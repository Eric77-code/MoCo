<!doctype html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>農產品交易行情儀表板（純 JS）</title>
  </head>

  <body>
    <h1>農產品交易行情儀表板（純 JavaScript）</h1>

    <h2>查詢條件</h2>

    <div>
      <label>作物名稱：
        <input id="cropName" placeholder="例：花椰菜-青梗" />
      </label>
    </div>

    <div>
      <label>交易日期(起) 民國：
        <input id="startDate" placeholder="例：115.01.06" />
      </label>
    </div>

    <div>
      <label>交易日期(訖) 民國：
        <input id="endDate" placeholder="例：115.01.06" />
      </label>
    </div>

    <div>提示：查詢區間範圍三天內（含今日）</div>

    <div>
      <button id="locBtn">取得定位（找最近市場）</button>
      <button id="queryBtn">查詢</button>
    </div>

    <div id="locMsg"></div>

    <h3>市場（手動選擇）</h3>
    <div>
      <select id="marketSelect"></select>
    </div>
    <div id="marketsInfo"></div>

    <hr />

    <div id="errorBox"></div>

    <h2>KPI</h2>
    <div id="kpiArea">
      <div id="kpi1">最新均價：—</div>
      <div id="kpi2">最新交易量：—</div>
      <div id="kpi3">區間均價（加權）：—</div>
      <div id="kpi4">區間總量：—</div>
    </div>

    <hr />

    <h2>平均價趨勢</h2>
    <div id="chartHint">尚無資料（請先查詢）。</div>
    <canvas id="chart" width="1000" height="320"></canvas>

    <hr />

    <h2>行情明細</h2>
    <div id="tableHint">尚無資料（請先查詢）。</div>
    <table border="1" cellpadding="6" cellspacing="0">
      <thead>
        <tr>
          <th>日期</th>
          <th>作物</th>
          <th>市場</th>
          <th>上 / 中 / 下 / 平均</th>
          <th>交易量</th>
        </tr>
      </thead>
      <tbody id="tbody"></tbody>
    </table>

    <script src="./app.js"></script>
  </body>
</html>
